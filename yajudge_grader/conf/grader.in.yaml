service:
  # NOTE: service configuration has less priority than command-line arguments
  log_file: '@LOGS_DIRECTORY/grader-$NAME.log'     # /var/log/yajudge/grader-default.log or /opt/yajudge/log/grader-default.log
  pid_file: '@RUNTIME_DIRECTORY/grader-$NAME.pid'  # /run/yajudge/grader-default.pid or /opt/yajudge/pid/grader-default.log
  systemd_slice: 'yajudge-grader'  # has effect only while starting via 'yajudge-grader start' command

rpc:
  host: localhost
  port: 9095

  # private token must be stored in separate file not readable by random user
  private_token_file: '@CONFIGURATION_DIRECTORY/private-token.txt'  # /etc/yajudge/private-token.txt

locations:
  system_environment: '@SYSTEM_DIR'                    # /var/lib/yajudge/system or /opt/yajudge/system
  working_directory: '@WORK_DIR/$NAME'                 # /var/lib/yajudge/work/default or /opt/yajudge/work/default
  cache_directory: '@CACHE_DIRECTORY/$NAME'            # /var/cache/yajudge/default or /opt/yajudge/cache/default

compilers:
  enable_sanitizers: undefined address  # unset in case of using Alpine Linux: it lacks support of sanitizers
  enable_valgrind: true
  valgrind_extra_memory_limit_mb: 16  # adds extra megabytes for valgrind runtime
  valgrind_cpu_time_scale: 2.0  # adds extra time for valgrind runtime
  c_compiler: clang
  cxx_compiler: clang
  c_base_options: -O2 -g -Werror
  cxx_base_options: -O2 -g -Werror

default_limits:
  stack_size_limit_mb: 4
  memory_max_limit_mb: 64
  cpu_time_limit_sec: 1
  real_time_limit_sec: 5
  proc_count_limit: 20
  fd_count_limit: 20
  stdout_size_limit_mb: 1
  stderr_size_limit_mb: 1
  allow_network: false

default_security_context:
  forbidden_functions: fork clone kill unlink chroot execvp execlp execv execl execve execle
